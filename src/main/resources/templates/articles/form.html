<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Article Form</title>
    <meta charset="UTF-8" />
</head>
<body>
<h1 th:text="${#strings.isEmpty(articleDto.aid) ? '新規Article作成' : 'Article編集'}"></h1>

<form th:action="@{${#strings.isEmpty(articleDto.aid) ? '/articles' : '/articles/' + articleDto.sid + '/' + articleDto.fid + '/' + articleDto.pid + '/' + articleDto.aid}}" th:object="${articleDto}" method="post">

    <div>
        <label for="sid">Study ID:</label>
        <input type="number" th:field="*{sid}" id="sid"
               th:attr="readonly=${not #strings.isEmpty(articleDto.aid)}"/>
        <div th:if="${#fields.hasErrors('sid')}" th:errors="*{sid}"></div>
    </div>

    <div>
        <label for="fid">Field ID:</label>
        <input type="number" th:field="*{fid}" id="fid"
               th:attr="readonly=${not #strings.isEmpty(articleDto.aid)}"/>
        <div th:if="${#fields.hasErrors('fid')}" th:errors="*{fid}"></div>
    </div>

    <div>
        <label for="pid">Portion ID:</label>
        <input type="number" th:field="*{pid}" id="pid"
               th:attr="readonly=${not #strings.isEmpty(articleDto.aid)}"/>
        <div th:if="${#fields.hasErrors('pid')}" th:errors="*{pid}"></div>
    </div>

    <div>
        <label for="aid">Article ID:</label>
        <input type="number" th:field="*{aid}" id="aid"
               th:attr="readonly=${not #strings.isEmpty(articleDto.aid)}"/>
        <div th:if="${#fields.hasErrors('aid')}" th:errors="*{aid}"></div>
    </div>

    <div>
        <label for="atitle">タイトル:</label>
        <input type="text" th:field="*{atitle}" id="atitle" maxlength="40" />
        <div th:if="${#fields.hasErrors('atitle')}" th:errors="*{atitle}"></div>
    </div>

    <div>
        <label for="atext">本文:</label>
        <textarea th:field="*{atext}" id="atext" rows="5" cols="40"></textarea>
        <div th:if="${#fields.hasErrors('atext')}" th:errors="*{atext}"></div>
    </div>

    <div>
        <button type="submit">保存</button>
        <a th:href="@{/articles}">キャンセル</a>
    </div>

</form>
</body>
</html>
